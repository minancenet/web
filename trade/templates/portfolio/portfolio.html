{% extends "layouts/layout.html" %}
{% block content %}
<h3 class="b">Simulation</h3>
<p class="light">By 24H Vol Descending</p>
<form method="POST" action="">
  {{ form.hidden_tag() }}
  {% if form.asset_name.errors %}
    {{ form.asset_name(class="invalid") }}
    <div class="invalid-feedback">
        {% for error in form.asset_name.errors %}
          <span>{{ error }}</span>
        {% endfor %}
    </div>
  {% else %}
    {{ form.asset_name(class="") }}
  {% endif %}
  {% if form.quantity.errors %}
    {{ form.quantity(class="invalid") }}
    <div class="invalid-feedback">
        {% for error in form.quantity.errors %}
          <span>{{ error }}</span>
        {% endfor %}
    </div>
  {% else %}
    {{ form.quantity(class="") }}
  {% endif %}
  {% if form.submit.errors %}
    {{ form.submit(class="invalid") }}
    <div class="invalid-feedback">
        {% for error in form.submit.errors %}
          <span>{{ error }}</span>
        {% endfor %}
    </div>
  {% else %}
    {{ form.submit(class="") }}
  {% endif %}
</form>
<table class="assets-table">
  <tr>
    <th class="letter-td">Name</th>
    <th class="number-td">Quantity</th>
    <th class="number-td">Ind. Worth</th>
    <th class="number-td">Total Worth</th>
    <th class="number-td">Change 30D</th>
    <th class="number-td">Actions</th>
  </tr>
  {% for asset in assets %}
      <tr>
        <td class="letter-td"><a href="{{ url_for('asset.specific_asset', asset_name=asset.asset.name) }}">{{ asset.asset.name.title().replace("_", " ") }}</a></td>
        <td class="number-td">{{ asset.amount }}</td>
        <td class="number-td">{{ asset.asset.sellPrice }}</td>
        <td class="number-td">{{ asset.worth }}</td>
        <td class="number-td {{ 'green' if asset.asset.movingValue > 0 else 'red' }}">{{ asset.asset.movingValue }}%</td>
        <td class="number-td"><a href="{{ url_for('portfolio.edit_asset', asset_name=asset.asset.name) }}">Edit</a></td>
    </tr>
  {% endfor %}
</table>
{% endblock content %}